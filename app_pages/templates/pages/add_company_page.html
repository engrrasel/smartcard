{% extends "pages/page_base.html" %}

{% block title %}
    {% if edit_mode %}
        Edit Company
    {% else %}
        Add New Company
    {% endif %}
{% endblock %}

{% block page_content %}

<h3 class="mb-3">
    {% if edit_mode %}
        ‚úèÔ∏è Edit Company
    {% else %}
        ‚ûï Add New Company
    {% endif %}
</h3>

<form method="post" enctype="multipart/form-data" style="max-width: 600px;">
    {% csrf_token %}

    <div class="mb-2">Company Name {{ form.name }}</div>
    <div class="mb-2">Business Type {{ form.business_type }}</div>
    <div class="mb-2">Founded Year {{ form.founded_year }}</div>

    <div class="mb-2">Phone {{ form.phone }}</div>
    <div class="mb-2">Email {{ form.email }}</div>
    <div class="mb-2">Website {{ form.website }}</div>

    <div class="mb-2">Address {{ form.address }}</div>
    <div class="mb-2">Description {{ form.description }}</div>

    <div class="mb-2">Facebook Page {{ form.facebook_page }}</div>
    <div class="mb-2">Google Map {{ form.map_location }}</div>

    <div class="mb-3">Company Logo {{ form.logo }}</div>

    <button type="submit" class="btn btn-success">
        {% if edit_mode %}
            ‚úÖ Update Company
        {% else %}
            ‚úÖ Save Company
        {% endif %}
    </button>
</form>

{% if edit_mode and company %}
    <div class="mt-4 p-3 border rounded bg-light">

        <h6 class="mb-2">üåç Public Company URLs</h6>

        <!-- ‚úÖ Auto Name Based URL -->
        <div class="mb-2">
            <label class="form-label">Public Name URL</label>
            <input type="text"
                   class="form-control"
                   value="{{ request.scheme }}://{{ request.get_host }}{{ company.public_slug_url }}"
                   readonly>
        </div>

        <!-- ‚úÖ Permanent UID URL -->
        <div class="mb-2">
            <label class="form-label">Permanent URL</label>
            <input type="text"
                   class="form-control"
                   value="{{ request.scheme }}://{{ request.get_host }}{{ company.public_uid_url }}"
                   readonly>
        </div>

    </div>
{% endif %}

{% endblock %}
