{% extends "contacts/connects_base.html" %}
{% load static %}

{% block connect_content %}

<link rel="stylesheet" href="{% static 'app_contacts/css/request.css' %}">

<h2 class="title">ğŸ”” Pending Connection Requests</h2>

<div class="request-container">

{% if requests %}

    {% for r in requests %}
    <div class="request-card glass-card">

        <div class="left-info">
            <img src="{% if r.visitor.profile_picture %}{{ r.visitor.profile_picture.url }}{% else %}https://via.placeholder.com/60{% endif %}" class="avatar">
            
            <div class="user-info">
                <h4>{{ r.visitor.full_name|default:r.visitor.username }}</h4>
                <small>{{ r.visitor.email }}</small>
            </div>
        </div>

        <div class="actions">
            <!-- ACCEPT -->
            <a href="{% url 'app_contacts:accept_request' r.id %}" class="btn accept">Accept</a>

            <!-- REJECT -->
            <a href="{% url 'app_contacts:reject_request' r.id %}" class="btn reject">Reject</a>
        </div>

    </div>
    {% endfor %}

{% else %}

    <div class="no-request">
        <img src="https://cdn-icons-png.flaticon.com/512/4076/4076549.png" width="120">
        <p>No new connection requests ğŸ™</p>
    </div>

{% endif %}

</div>

{% endblock %}
